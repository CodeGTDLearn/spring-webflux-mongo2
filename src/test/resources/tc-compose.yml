version: "3.4"

x-common-variables:
  &env-vars
  PORT_API: 8080
  MONGO_INITDB_DATABASE: mongo1
  MONGO_INITDB_ROOT_USERNAME: admin
  MONGO_INITDB_ROOT_PASSWORD: admin
  DB_HOST: mongo1
  DB_PORT: 27017
  DB_AUTH_MAN: admin

services:
  mongo1:
    image: mongo:4.4.4
    restart: always
    ports:
      - "27017:27017"
    environment:
      *env-vars